Let's break this down step by step.

Henry started with 99 books.

He filled 3 boxes of 15 books each, which is a total of 3 x 15 = 45 books. So, he has 99 - 45 = 54 books left.

He then donated 21 books from the room, 4 books from the coffee table, and 18 cookbooks from the kitchen. This is a total of 21 + 4 + 18 = 43 books. So, he has 54 - 43 = 11 books left.

He then picked up 12 books from the "free to a good home" box. So, he now has 11 + 12 = 23 books.

Answer: 23