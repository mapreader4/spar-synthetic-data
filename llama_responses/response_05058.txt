Let's break this down step by step.

Let's start with the 4th graders, who planted 30 trees.

The 5th graders planted twice as many trees as the 4th graders, so they planted 30 x 2 = 60 trees.

The 6th graders planted 30 fewer than thrice the number of trees planted by the 5th graders. To find out how many trees the 6th graders planted, we need to multiply 60 (the number of trees planted by the 5th graders) by 3, and then subtract 30.

60 x 3 = 180, and 180 - 30 = 150.

So, the total number of trees planted by all three grades is:

30 (4th graders) + 60 (5th graders) + 150 (6th graders) = 240.

Answer: 240