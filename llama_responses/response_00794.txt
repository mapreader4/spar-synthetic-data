Let's break this down step by step:

1. We know that there were 40 red candies. We know that there were 20 less than three times as many yellow candies as red candies. So, we can set up an equation to represent the number of yellow candies: 3x = 20 + 40. We can solve this equation to get the number of yellow candies: 3x = 60. So, there were 60 yellow candies.

2. We know that there are half as many blue candies as yellow candies. So, we can set up an equation to represent the number of blue candies: x = 60 / 2 =? We can solve this equation to get the number of blue candies: x = 30.

3. Now, we know that Carlos ate all the yellow candies. So, we can subtract the number of yellow candies from the total number of candies to get the number of candies remaining: 40 + 20 + 30 = 90.

Answer: 90