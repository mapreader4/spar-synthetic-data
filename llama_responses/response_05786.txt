Let's break this down step by step.

First, we know that Shelby and her mom made a total of 12 bags of buttered popcorn and 10 bags of caramel popcorn. We can combine these numbers together to get a total of 22 bags of popcorn.

Next, we know that Alan took 3 bags of buttered popcorn and 1 bag of caramel popcorn. We can subtract these numbers from the total to find out how many bags Shelby has left:

22 (total bags of popcorn) - 3 (bags of buttered popcorn) - 1 (bag of caramel popcorn) = 18

Answer: 18