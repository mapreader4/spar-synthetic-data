Okay, let's break this down step-by-step:
1) Cody bought $40 worth of stuff at the store.
2) The taxes were 5%, which means the taxes added $2 to the total (5% of $40 = $2).
3) The final price before the discount was $40 + $2 = $42.
4) Cody then got an $8 discount, so the final price was $42 - $8 = $34.
5) Cody and his friend split the final price of $34 equally, so Cody paid half of that, which is $17.

Answer: 17